{"id":"oz57","dependencies":[{"name":"/Users/kennykrosky/devwork/kannaco-local-wholesale/package.json","includedInParent":true,"mtime":1615656326201},{"name":"intersection-observer","loc":{"line":1,"column":8},"parent":"/Users/kennykrosky/devwork/kannaco-local-wholesale/js/lazy-load/backgrounds.js","resolved":"/Users/kennykrosky/devwork/kannaco-local-wholesale/node_modules/intersection-observer/intersection-observer.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.setBackgroundImages=void 0,require(\"intersection-observer\");var e={root:null,rootMargin:\"0px\",threshold:.3},t=function(){var t=document.querySelectorAll(\".section-bg__el\"),r=new IntersectionObserver(function(e){e.forEach(function(e){if(e.intersectionRatio>0){var t=new Image;t.src=e.target.getAttribute(\"data-bg\"),t.onload=function(){e.target.style.backgroundImage=\"url(\"+t.src+\")\",e.target.closest(\".section-bg\").classList.add(\"active\"),e.target.setAttribute(\"data-bg\",\"\")}}})},e);t.forEach(function(e){r.observe(e)})};exports.setBackgroundImages=t;"},"sourceMaps":{"js":{"mappings":[{"source":"js/lazy-load/backgrounds.js","original":{"line":9,"column":0},"generated":{"line":1,"column":0}},{"source":"js/lazy-load/backgrounds.js","original":{"line":9,"column":0},"generated":{"line":1,"column":13}},{"source":"js/lazy-load/backgrounds.js","original":{"line":9,"column":0},"generated":{"line":1,"column":20}},{"source":"js/lazy-load/backgrounds.js","original":{"line":9,"column":0},"generated":{"line":1,"column":35}},{"source":"js/lazy-load/backgrounds.js","original":{"line":9,"column":0},"generated":{"line":1,"column":43}},{"source":"js/lazy-load/backgrounds.js","original":{"line":9,"column":0},"generated":{"line":1,"column":56}},{"source":"js/lazy-load/backgrounds.js","original":{"line":9,"column":0},"generated":{"line":1,"column":57}},{"source":"js/lazy-load/backgrounds.js","original":{"line":9,"column":0},"generated":{"line":1,"column":64}},{"source":"js/lazy-load/backgrounds.js","original":{"line":9,"column":0},"generated":{"line":1,"column":68}},{"source":"js/lazy-load/backgrounds.js","original":{"line":9,"column":0},"generated":{"line":1,"column":76}},{"source":"js/lazy-load/backgrounds.js","original":{"line":9,"column":0},"generated":{"line":1,"column":101}},{"source":"js/lazy-load/backgrounds.js","name":"require","original":{"line":1,"column":0},"generated":{"line":1,"column":103}},{"source":"js/lazy-load/backgrounds.js","original":{"line":1,"column":8},"generated":{"line":1,"column":111}},{"source":"js/lazy-load/backgrounds.js","original":{"line":3,"column":0},"generated":{"line":1,"column":136}},{"source":"js/lazy-load/backgrounds.js","name":"config","original":{"line":3,"column":6},"generated":{"line":1,"column":140}},{"source":"js/lazy-load/backgrounds.js","original":{"line":3,"column":16},"generated":{"line":1,"column":142}},{"source":"js/lazy-load/backgrounds.js","name":"root","original":{"line":4,"column":2},"generated":{"line":1,"column":143}},{"source":"js/lazy-load/backgrounds.js","original":{"line":4,"column":8},"generated":{"line":1,"column":148}},{"source":"js/lazy-load/backgrounds.js","name":"rootMargin","original":{"line":5,"column":2},"generated":{"line":1,"column":153}},{"source":"js/lazy-load/backgrounds.js","original":{"line":5,"column":14},"generated":{"line":1,"column":164}},{"source":"js/lazy-load/backgrounds.js","name":"threshold","original":{"line":6,"column":2},"generated":{"line":1,"column":170}},{"source":"js/lazy-load/backgrounds.js","original":{"line":6,"column":13},"generated":{"line":1,"column":180}},{"source":"js/lazy-load/backgrounds.js","name":"setBackgroundImages","original":{"line":9,"column":6},"generated":{"line":1,"column":184}},{"source":"js/lazy-load/backgrounds.js","original":{"line":9,"column":28},"generated":{"line":1,"column":186}},{"source":"js/lazy-load/backgrounds.js","name":"backgrounds","original":{"line":10,"column":6},"generated":{"line":1,"column":197}},{"source":"js/lazy-load/backgrounds.js","name":"backgrounds","original":{"line":10,"column":6},"generated":{"line":1,"column":201}},{"source":"js/lazy-load/backgrounds.js","name":"document","original":{"line":10,"column":20},"generated":{"line":1,"column":203}},{"source":"js/lazy-load/backgrounds.js","name":"querySelectorAll","original":{"line":10,"column":29},"generated":{"line":1,"column":212}},{"source":"js/lazy-load/backgrounds.js","original":{"line":10,"column":46},"generated":{"line":1,"column":229}},{"source":"js/lazy-load/backgrounds.js","name":"observer","original":{"line":11,"column":6},"generated":{"line":1,"column":248}},{"source":"js/lazy-load/backgrounds.js","original":{"line":11,"column":17},"generated":{"line":1,"column":250}},{"source":"js/lazy-load/backgrounds.js","name":"IntersectionObserver","original":{"line":11,"column":21},"generated":{"line":1,"column":254}},{"source":"js/lazy-load/backgrounds.js","original":{"line":11,"column":42},"generated":{"line":1,"column":275}},{"source":"js/lazy-load/backgrounds.js","name":"element","original":{"line":11,"column":43},"generated":{"line":1,"column":284}},{"source":"js/lazy-load/backgrounds.js","name":"element","original":{"line":13,"column":4},"generated":{"line":1,"column":287}},{"source":"js/lazy-load/backgrounds.js","name":"forEach","original":{"line":13,"column":12},"generated":{"line":1,"column":289}},{"source":"js/lazy-load/backgrounds.js","original":{"line":13,"column":20},"generated":{"line":1,"column":297}},{"source":"js/lazy-load/backgrounds.js","name":"backgroundElement","original":{"line":13,"column":20},"generated":{"line":1,"column":306}},{"source":"js/lazy-load/backgrounds.js","name":"backgroundElement","original":{"line":15,"column":9},"generated":{"line":1,"column":309}},{"source":"js/lazy-load/backgrounds.js","name":"backgroundElement","original":{"line":15,"column":9},"generated":{"line":1,"column":312}},{"source":"js/lazy-load/backgrounds.js","name":"intersectionRatio","original":{"line":15,"column":27},"generated":{"line":1,"column":314}},{"source":"js/lazy-load/backgrounds.js","original":{"line":15,"column":47},"generated":{"line":1,"column":332}},{"source":"js/lazy-load/backgrounds.js","original":{"line":15,"column":50},"generated":{"line":1,"column":334}},{"source":"js/lazy-load/backgrounds.js","name":"img","original":{"line":17,"column":14},"generated":{"line":1,"column":335}},{"source":"js/lazy-load/backgrounds.js","name":"img","original":{"line":17,"column":14},"generated":{"line":1,"column":339}},{"source":"js/lazy-load/backgrounds.js","original":{"line":17,"column":20},"generated":{"line":1,"column":341}},{"source":"js/lazy-load/backgrounds.js","name":"Image","original":{"line":17,"column":24},"generated":{"line":1,"column":345}},{"source":"js/lazy-load/backgrounds.js","name":"img","original":{"line":18,"column":8},"generated":{"line":1,"column":351}},{"source":"js/lazy-load/backgrounds.js","name":"src","original":{"line":18,"column":12},"generated":{"line":1,"column":353}},{"source":"js/lazy-load/backgrounds.js","name":"backgroundElement","original":{"line":18,"column":18},"generated":{"line":1,"column":357}},{"source":"js/lazy-load/backgrounds.js","name":"target","original":{"line":18,"column":36},"generated":{"line":1,"column":359}},{"source":"js/lazy-load/backgrounds.js","name":"getAttribute","original":{"line":18,"column":43},"generated":{"line":1,"column":366}},{"source":"js/lazy-load/backgrounds.js","original":{"line":18,"column":56},"generated":{"line":1,"column":379}},{"source":"js/lazy-load/backgrounds.js","name":"img","original":{"line":20,"column":8},"generated":{"line":1,"column":390}},{"source":"js/lazy-load/backgrounds.js","name":"onload","original":{"line":20,"column":12},"generated":{"line":1,"column":392}},{"source":"js/lazy-load/backgrounds.js","original":{"line":20,"column":21},"generated":{"line":1,"column":399}},{"source":"js/lazy-load/backgrounds.js","name":"backgroundElement","original":{"line":21,"column":10},"generated":{"line":1,"column":410}},{"source":"js/lazy-load/backgrounds.js","name":"target","original":{"line":21,"column":28},"generated":{"line":1,"column":412}},{"source":"js/lazy-load/backgrounds.js","name":"style","original":{"line":21,"column":35},"generated":{"line":1,"column":419}},{"source":"js/lazy-load/backgrounds.js","name":"backgroundImage","original":{"line":21,"column":41},"generated":{"line":1,"column":425}},{"source":"js/lazy-load/backgrounds.js","original":{"line":21,"column":59},"generated":{"line":1,"column":441}},{"source":"js/lazy-load/backgrounds.js","name":"img","original":{"line":21,"column":67},"generated":{"line":1,"column":448}},{"source":"js/lazy-load/backgrounds.js","name":"src","original":{"line":21,"column":71},"generated":{"line":1,"column":450}},{"source":"js/lazy-load/backgrounds.js","original":{"line":21,"column":76},"generated":{"line":1,"column":454}},{"source":"js/lazy-load/backgrounds.js","name":"backgroundElement","original":{"line":22,"column":10},"generated":{"line":1,"column":458}},{"source":"js/lazy-load/backgrounds.js","name":"target","original":{"line":22,"column":28},"generated":{"line":1,"column":460}},{"source":"js/lazy-load/backgrounds.js","name":"closest","original":{"line":22,"column":35},"generated":{"line":1,"column":467}},{"source":"js/lazy-load/backgrounds.js","original":{"line":22,"column":43},"generated":{"line":1,"column":475}},{"source":"js/lazy-load/backgrounds.js","name":"classList","original":{"line":22,"column":58},"generated":{"line":1,"column":490}},{"source":"js/lazy-load/backgrounds.js","name":"add","original":{"line":22,"column":68},"generated":{"line":1,"column":500}},{"source":"js/lazy-load/backgrounds.js","original":{"line":22,"column":72},"generated":{"line":1,"column":504}},{"source":"js/lazy-load/backgrounds.js","name":"backgroundElement","original":{"line":23,"column":10},"generated":{"line":1,"column":514}},{"source":"js/lazy-load/backgrounds.js","name":"target","original":{"line":23,"column":28},"generated":{"line":1,"column":516}},{"source":"js/lazy-load/backgrounds.js","name":"setAttribute","original":{"line":23,"column":35},"generated":{"line":1,"column":523}},{"source":"js/lazy-load/backgrounds.js","original":{"line":23,"column":48},"generated":{"line":1,"column":536}},{"source":"js/lazy-load/backgrounds.js","original":{"line":23,"column":59},"generated":{"line":1,"column":546}},{"source":"js/lazy-load/backgrounds.js","name":"config","original":{"line":27,"column":5},"generated":{"line":1,"column":555}},{"source":"js/lazy-load/backgrounds.js","name":"backgrounds","original":{"line":29,"column":2},"generated":{"line":1,"column":558}},{"source":"js/lazy-load/backgrounds.js","name":"forEach","original":{"line":29,"column":14},"generated":{"line":1,"column":560}},{"source":"js/lazy-load/backgrounds.js","original":{"line":29,"column":22},"generated":{"line":1,"column":568}},{"source":"js/lazy-load/backgrounds.js","name":"image","original":{"line":29,"column":22},"generated":{"line":1,"column":577}},{"source":"js/lazy-load/backgrounds.js","name":"observer","original":{"line":30,"column":4},"generated":{"line":1,"column":580}},{"source":"js/lazy-load/backgrounds.js","name":"observe","original":{"line":30,"column":13},"generated":{"line":1,"column":582}},{"source":"js/lazy-load/backgrounds.js","name":"image","original":{"line":30,"column":21},"generated":{"line":1,"column":590}},{"source":"js/lazy-load/backgrounds.js","original":{"line":9,"column":0},"generated":{"line":1,"column":596}},{"source":"js/lazy-load/backgrounds.js","original":{"line":9,"column":0},"generated":{"line":1,"column":604}},{"source":"js/lazy-load/backgrounds.js","original":{"line":9,"column":0},"generated":{"line":1,"column":624}}],"sources":{"js/lazy-load/backgrounds.js":"require('intersection-observer');\n\nconst config  = {\n  root: null,\n  rootMargin: '0px',\n  threshold: 0.3\n};\n\nconst setBackgroundImages = () => {\n  let backgrounds = document.querySelectorAll('.section-bg__el')\n  let observer = new IntersectionObserver((element) => {\n    \n    element.forEach(backgroundElement => {\n\n      if(backgroundElement.intersectionRatio > 0) {\n        \n        const img = new Image();\n        img.src = backgroundElement.target.getAttribute('data-bg');\n\n        img.onload = () => {\n          backgroundElement.target.style.backgroundImage = 'url('+ img.src +')'\n          backgroundElement.target.closest('.section-bg').classList.add('active')\n          backgroundElement.target.setAttribute('data-bg', '')\n        }\n      }\n    })\n  }, config)\n  \n  backgrounds.forEach(image => {\n    observer.observe(image)\n  })\n}\n\nexport { setBackgroundImages };"},"lineCount":null}},"error":null,"hash":"d6b52419ad3e3721445d1efc06cdf71a","cacheData":{"env":{}}}